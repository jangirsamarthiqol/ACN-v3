/* Modal Animation Keyframes */
@keyframes fadeIn {
       from {
              opacity: 0;
       }

       to {
              opacity: 1;
       }
}

@keyframes slideUp {
       from {
              transform: translateY(100%);
       }

       to {
              transform: translateY(0);
       }
}

/* Modal Overlay */
.modal-overlay {
       position: absolute;
       top: 0;
       left: 0;
       right: 0;
       bottom: 0;
       background-color: rgba(0, 0, 0, 0.6);
       display: flex;
       justify-content: center;
       align-items: flex-end;
       /* Align to bottom */
       z-index: 5;
       backdrop-filter: blur(2px);
       animation: fadeIn 0.2s ease-out;
       padding: 0;
       /* Remove padding to touch edges */
}

/* Modal Container (Bottom Sheet Style) */

/* Hero Illustrations & Infographics */
.modal-hero {
       width: 100%;
       height: 180px;
       background-color: var(--background);
       display: flex;
       align-items: center;
       justify-content: center;
       margin-top: -16px;
       /* Counteract header padding if present, or use with no-padding */
       margin-bottom: 24px;
       position: relative;
       overflow: hidden;
       border-radius: 16px;
}

.modal-hero-gradient {
       background: linear-gradient(135deg, var(--primary-light) 0%, #E3F2FD 100%);
}

.modal-hero-icon {
       width: 80px;
       height: 80px;
       background: white;
       border-radius: 50%;
       display: flex;
       align-items: center;
       justify-content: center;
       box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
       position: relative;
       z-index: 2;
}

.modal-hero-pattern {
       position: absolute;
       top: 0;
       left: 0;
       right: 0;
       bottom: 0;
       opacity: 0.1;
       background-image: radial-gradient(var(--primary) 1px, transparent 1px);
       background-size: 20px 20px;
}

/* Typography Enhancements */
.text-center {
       text-align: center;
}

.mb-2 {
       margin-bottom: 8px;
}

.mb-4 {
       margin-bottom: 16px;
}

.text-muted {
       color: var(--text-secondary);
}

.font-bold {
       font-weight: 600;
}

.text-primary {
       color: var(--primary);
}

.feature-list {
       list-style: none;
       padding: 0;
       margin: 0;
}

.feature-item {
       display: flex;
       align-items: center;
       gap: 12px;
       padding: 12px;
       background: var(--background);
       border-radius: 12px;
       margin-bottom: 8px;
}

.modal-container {
       background-color: var(--surface);
       border-top-left-radius: 24px;
       border-top-right-radius: 24px;
       border-bottom-left-radius: 0;
       border-bottom-right-radius: 0;
       box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15);
       width: 100%;
       max-width: 100%;
       max-height: 85%;
       /* Don't cover entire screen */
       display: flex;
       flex-direction: column;
       position: relative;
       overflow: hidden;
       animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
       /* Authentic iOS/Android easing */
       margin-bottom: 0;
}

/* FULL SCREEN override if needed */
.modal-container.full {
       height: 95%;
       border-radius: 16px 16px 0 0;
}

/* Drag Handle */
.modal-handle-bar {
       width: 100%;
       height: 24px;
       display: flex;
       align-items: center;
       justify-content: center;
       flex-shrink: 0;
       cursor: grab;
}

.modal-handle {
       width: 40px;
       height: 4px;
       background-color: #E0E0E0;
       border-radius: 100px;
}

/* Modal Header */
.modal-header {
       padding: 0 24px 16px;
       /* Reduced top padding as handle takes space */
       display: flex;
       justify-content: space-between;
       align-items: flex-start;
       flex-shrink: 0;
}

.modal-title {
       font-size: 20px;
       font-weight: 600;
       color: var(--text-primary);
       margin: 0;
       line-height: 28px;
}

.modal-close-btn {
       background: #f5f5f5;
       border: none;
       cursor: pointer;
       color: var(--text-secondary);
       padding: 6px;
       margin-left: 12px;
       border-radius: 50%;
       display: flex;
       align-items: center;
       justify-content: center;
       transition: all 0.2s;
}

.modal-close-btn:active {
       background-color: #eee;
       transform: scale(0.95);
}

/* Modal Content */
.modal-content {
       padding: 0 24px 24px;
       overflow-y: auto;
       color: var(--text-secondary);
       font-size: 15px;
       line-height: 1.5;
       -webkit-overflow-scrolling: touch;
       /* Smooth scrolling on iOS */
}

.modal-content.no-padding {
       padding: 0;
}

/* Modal Actions */
.modal-actions {
       padding: 16px 24px 24px;
       display: flex;
       flex-direction: column;
       /* Stack buttons on mobile */
       gap: 12px;
       padding-top: 0;
       flex-shrink: 0;
       background: var(--surface);
       /* Ensure background covers content if scrolling */
}

/* Action Button Styles */
.modal-btn {
       padding: 14px 24px;
       /* Larger touch targets */
       border-radius: 12px;
       /* Less rounded, more blocky like apps */
       font-weight: 600;
       font-size: 16px;
       cursor: pointer;
       border: none;
       width: 100%;
       /* Full width buttons */
       display: flex;
       align-items: center;
       justify-content: center;
}

.modal-btn-primary {
       background-color: var(--primary);
       color: white;
       box-shadow: 0 2px 8px rgba(0, 102, 204, 0.2);
}

.modal-btn-primary:active {
       transform: scale(0.98);
}

.modal-btn-secondary {
       background-color: white;
       color: var(--text-primary);
       border: 1px solid var(--border);
}

.modal-btn-secondary:active {
       background-color: var(--background);
}

.modal-btn-text {
       background-color: transparent;
       color: var(--text-secondary);
       font-size: 14px;
       padding: 8px;
}